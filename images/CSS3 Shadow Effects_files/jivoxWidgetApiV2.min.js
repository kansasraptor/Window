function jvx_raiseEventOnWindow(a){var b;document.createEvent?(b=document.createEvent("HTMLEvents"),b.initEvent(a,!0,!0)):(b=document.createEventObject(),b.eventType=a),b.eventName=a;var c=document.getElementById("jvx_eventHandler");document.createEvent?c.dispatchEvent(b):c.fireEvent("on"+b.eventType,b)}function getParameterValue(a,b){if(null==a||""==a)return"";for(var c=a.split("&"),d=c.length,e=null,f="",g=0;g<d;g++)e=c[g].split("="),b==e[0]&&(f=e[1]);return f}function jvx_validate(a){return!("undefined"==typeof a||null==a||""==a||!a)}function debuglog(a){console.log("Jivox Widget API:"+a)}function receiveMsgOnWidgetConfig(a){"function"==typeof invokeAction&&invokeAction(a)}function msgReceived(a,b){storeEventReq.hasOwnProperty(a)?"getAssetInteractionDetails"==a?this[storeEventReq[a]](b):storeEventReq[a]():"undefined"!=typeof b&&storeEventReq.hasOwnProperty(b)&&storeEventReq[b](a)}function attachEventListener(a,b,c,d){try{"undefined"!=typeof a.addEventListener?a.addEventListener(b,c,d):a.attachEvent("on"+b,c)}catch(a){}}function eventListner(a){try{msgReceived(a)}catch(a){}}function listenLayoutPostMsg(a){if("string"==typeof a.data){var b=a.data.split(":",10);if(b&&b.length>=2&&"layoutWidgetListner"==b[0])if("response"==b[1]){reqData=b[2];try{postMsgRecived()}catch(a){}}else if("eventListner"==b[1]){var c=b[2];try{"raiseEvent"==c&&jvx_raiseEventOnWindow(b[3]),"getAssetInteractionDetails"==c?msgReceived(c,JSON.parse(decodeURIComponent(b[3]))):msgReceived(c,b[3])}catch(a){}}else if("invokeB2E"==b[1]){var c=b[2];try{window[b[2]](b[3])}catch(a){}}else if("dynamicData"==b[1]){if(dynamicData=JSON.parse(decodeURIComponent(b[2])),jvx_raiseDYEvent(),isDynamic)try{initiate()}catch(a){}}else if("replaceHTML"==b[1])try{jvxAd.replaceHTML("self",b[2],b[3])}catch(a){}else if("appendHTML"==b[1])try{jvxAd.appendHTML("self",b[2],b[3])}catch(a){}}}function jvx_raiseDYEvent(){try{jvx_raiseEventOnWindow("onDynamicDataLoad"),"undefined"!=typeof onDynamicDataLoad&&onDynamicDataLoad(dynamicData)}catch(a){"undefined"==typeof console.oldLog?console.log(a):console.oldLog(a)}}function jvxErr(a){var b=a.length;if(0!=b)for(var c=0;c<b;c++)console.log(a[c].message)}var isInLayout=!1,url=window.location.href,objectName=getParameterValue(url,"objectName"),parentAccess=!1,isExternalWg=!1,isExtAsInline=!1,isStandardInline=!1;try{var assetID=window.frameElement.id;parentAccess=!0}catch(a){parentAccess=!1}try{isInLayout=!!document.getElementById("jvxWidget").getAttribute("data-is-in-layout")}catch(a){}if(!isInLayout)if(parentAccess)isExtAsInline=jvx_validate(window.frameElement.getAttribute("extFilePath")),isExtAsInline||(isStandardInline=!0);else{isInLayout=!1,isExternalWg=!0;var adUnitType=getParameterValue(url,"adUnitType"),isCampaign=Number(getParameterValue(url,"isCampaign")),campaignId=getParameterValue(url,"campaignId"),externalStartEventId=getParameterValue(url,"externalStartEventId"),adId=getParameterValue(url,"adId"),creativeUnitType=getParameterValue(url,"creativeUnitType"),placementId=getParameterValue(url,"placementId"),siteId=getParameterValue(url,"siteId"),eventReportingURL=getParameterValue(url,"reportingURL"),isMobile=getParameterValue(url,"isMobile"),assetID=getParameterValue(url,"assetID"),clickTagURL=getParameterValue(url,"clickTag"),serverURL=getParameterValue(url,"serverURL"),dynamicData="",resolveDynDataURL="",isDynamic=Number(getParameterValue(url,"isDynamic")),debugWidget=getParameterValue(url,"debugWidget")}if(isStandardInline)try{var jvx_iframeBody=document.getElementsByTagName("body")[0],jQuery=function(a){return parent.jQuery(a,jvx_iframeBody)},$jvx=jQuery}catch(a){}var reqData=null,storeEventReq={},jvx_callbacks={},jvxAd={getUnitType:function(){try{return debugWidget&&debuglog("Invoking getUnitType()"),getUnitType()}catch(a){try{return debugWidget&&debuglog("Exception:"+a.toString()+": Invoking getUnitType() on parent"),parent.getUnitType()}catch(a){debugWidget&&debuglog("Exception:"+a.toString()+": Posting getUnitType message to parent"),window.parent.postMessage("jvxAPIGetData:getUnitType","*")}}},openClickThrough:function(a){try{debugWidget&&debuglog("Invoking openClickThrough() "+a),openClickThrough(a)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking openClickThrough() on parent "+a),parent.openClickThrough(a)}catch(c){var b="jvxAPI:openClickThrough";"undefined"!=typeof a&&(b+=":"+encodeURIComponent(a)),debugWidget&&debuglog("Exception:"+c.toString()+": Posting openClickThrough message to parent "+a),window.parent.postMessage(b,"*")}}},loadCmacro:function(){try{debugWidget&&debuglog("Invoking loadCmacro() on parent"),parent.loadCmacro()}catch(a){}},openURL:function(a){try{debugWidget&&debuglog("Invoking openURL() "+a),openURL(a)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking openURL() on parent "+a),parent.openURL(a)}catch(c){var b="jvxAPI:openURL";"undefined"!=typeof a&&(b+=":"+encodeURIComponent(a)),debugWidget&&debuglog("Exception:"+c.toString()+": Posting openURL message to parent "+a),window.parent.postMessage(b,"*")}}},recordEvent:function(a,b){if(isCampaign)try{debugWidget&&debuglog("Invoking recordEvent() for "+a+" params:"+b),recordEvent(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking recordEvent() on parent for "+a+" params:"+b),parent.recordEvent(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting recordEvent message to parent for "+a+" params:"+b),window.parent.postMessage("jvxAPI:recordEvent:"+a+":"+b,"*")}}},recordCustomEvent:function(a,b,c){isCampaign&&("undefined"==typeof b&&(b=!0),b?(debugWidget&&debuglog("Invoking recordEvent() for interactive event for "+a),this.recordEvent(externalStartEventId+parseInt(a))):(debugWidget&&debuglog("Invoking recordEvent() for non-interactive event for "+a),this.recordEvent(externalStartEventId+2e4+parseInt(a))))},showAsset:function(a){try{debugWidget&&debuglog("Invoking showAsset() for "+a),showAsset(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking showAsset() on parent for "+a),parent.showAsset(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting showAsset message to parent for "+a),window.parent.postMessage("jvxAPI:showAsset:"+a,"*")}}},hideAsset:function(a){try{debugWidget&&debuglog("Invoking hideAsset() for "+a),hideAsset(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking hideAsset() on parent for "+a),parent.hideAsset(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting hideAsset message to parent for "+a),window.parent.postMessage("jvxAPI:hideAsset:"+a,"*")}}},renderAsset:function(a){try{debugWidget&&debuglog("Invoking renderAsset() for "+a),renderAsset(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking renderAsset() on parent for "+a),parent.renderAsset(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting renderAsset message to parent for "+a),window.parent.postMessage("jvxAPI:renderAsset:"+a,"*")}}},invokeAsset:function(a,b,c){try{if("undefined"==typeof c)var c=1;debugWidget&&debuglog("Invoking invokeAsset() for "+a),invokeAsset(a,b,c)}catch(d){try{debugWidget&&debuglog("Exception:"+d.toString()+": Invoking invokeAsset() on parent for "+a),parent.invokeAsset(a,b,c)}catch(d){debugWidget&&debuglog("Exception:"+d.toString()+": Posting invokeAsset message to parent for "+a),window.parent.postMessage("jvxAPI:invokeAsset:"+a+":"+b+":"+c,"*")}}},invokeAnim:function(a,b){try{debugWidget&&debuglog("Invoking invokeAnim() for Asset:"+a+" Anim:"+b),invokeAnim(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking invokeAnim() on parent for Asset:"+a+" Anim:"+b),parent.invokeAnim(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting invokeAnim message to parent for Asset:"+a+" Anim:"+b),window.parent.postMessage("jvxAPI:invokeAnim:"+a+":"+b,"*")}}},reloadAsset:function(a){try{debugWidget&&debuglog("Invoking reloadAsset() for "+a),reloadAsset(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking reloadAsset() on parent for "+a),parent.reloadAsset(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting reloadAsset message to parent for "+a),window.parent.postMessage("jvxAPI:reloadAsset:"+a,"*")}}},pauseVideo:function(a){try{debugWidget&&debuglog("Invoking pauseVideo() for "+a),pauseVideo(a,1)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking pauseVideo() on parent for "+a),parent.pauseVideo(a,1)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting pauseVideo message to parent for "+a),window.parent.postMessage("jvxAPI:pauseVideo:"+a,"*")}}},restartVideo:function(a){try{debugWidget&&debuglog("Invoking restartVideo() for "+a),restartVideo(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking restartVideo() on parent for "+a),parent.restartVideo(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting restartVideo message to parent for "+a),window.parent.postMessage("jvxAPI:restartVideo:"+a,"*")}}},resumeVideo:function(a){try{debugWidget&&debuglog("Invoking resumeVideo() for "+a),resumeVideo(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking resumeVideo() on parent for "+a),parent.resumeVideo(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting resumeVideo message to parent for "+a),window.parent.postMessage("jvxAPI:resumeVideo:"+a,"*")}}},setVideoVolume:function(a,b){try{debugWidget&&debuglog("Invoking setVideoVolume() for "+a+" volume="+b),setVideoVolume(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking setVideoVolume() on parent for "+a+" volume="+b),parent.setVideoVolume(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting setVideoVolume message to parent for "+a+" volume="+b),window.parent.postMessage("jvxAPI:setVideoVolume:"+a+":"+b,"*")}}},showGroups:function(a){try{debugWidget&&debuglog("Invoking showGroups() for "+a),showGroups(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking showGroups() on parent for "+a),parent.showGroups(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting showGroups message to parent for "+a),window.parent.postMessage("jvxAPI:showGroups:"+a,"*")}}},hideGroups:function(a){try{debugWidget&&debuglog("Invoking hideGroups() for "+a),hideGroups(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking hideGroups() on parent for "+a),parent.hideGroups(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting hideGroups message to parent for "+a),window.parent.postMessage("jvxAPI:hideGroups:"+a,"*")}}},getStorageData:function(a,b){try{return debugWidget&&debuglog("Invoking getStorageData() for "+a),getStorageData(a)}catch(c){try{return debugWidget&&debuglog("Exception:"+c.toString()+": Invoking getStorageData() on parent for "+a),parent.getStorageData(a)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting getStorageData message to parent for "+a),window.parent.postMessage("jvxAPIGetData:getStorageData:"+a,"*"),"undefined"!=typeof a&&(storeEventReq.hasOwnProperty(a)&&delete storeEventReq[a],storeEventReq.getStorageData=b)}}},setStorageData:function(a,b){try{debugWidget&&debuglog("Invoking setStorageData() for "+a),setStorageData(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking setStorageData() on parent for "+a),parent.setStorageData(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting setStorageData message to parent for "+a),window.parent.postMessage("jvxAPI:setStorageData:"+a+":"+b,"*")}}},isCampaign:function(){var a=!1;try{var b=url.match(/siteId=(.*)&/)[1].split("&")[0]}catch(a){}return("undefined"!=typeof isCampaign&&isCampaign||"undefined"!=typeof b&&null!=b&&""!=b&&b)&&(a=!0),debugWidget&&debuglog("isCampaign = "+a),a},on:function(a,b){try{$("#eventHandler").on(a,b)}catch(c){try{parent.$("#eventHandler").on(a,b)}catch(c){attachEventListener(document.getElementById("jvx_eventHandler"),a,b,!1)}}},raiseEvent:function(a){try{debugWidget&&debuglog("Invoking raiseEvent() for "+a),raiseEvent(a)}catch(d){try{var b=jvx_validate(assetID)?assetID:window.frameElement.id,c=a.search("asset")==-1?b+"."+a:a;isExtAsInline&&parent.raiseEvent(a),debugWidget&&debuglog("Exception:"+d.toString()+": Invoking raiseEvent() on parent for "+c),parent.raiseEvent(c)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting raiseEvent message to parent for "+a+" and "+c),window.parent.postMessage("jvxAPI:raiseEvent:"+a,"*"),window.parent.postMessage("jvxAPI:raiseEvent:"+c,"*")}}},invokeBaseMethod:function(a,b){try{debugWidget&&debuglog("Invoking invokeBaseMethod() for "+a+" "+b),invokeBaseMethod(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking invokeBaseMethod() on parent for "+a+" "+b),parent.invokeBaseMethod(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting invokeBaseMethod to parent for "+a+" "+b),window.parent.postMessage("jvxAPI:invokeBaseMethod:"+a,b,"*")}}},invokeExpMethod:function(a,b){try{debugWidget&&debuglog("Invoking invokeExpMethod() for "+a+" "+b),invokeExpMethod(a,b)}catch(c){try{debugWidget&&debuglog("Exception:"+c.toString()+": Invoking invokeExpMethod() on parent for "+a+" "+b),parent.invokeExpMethod(a,b)}catch(c){debugWidget&&debuglog("Exception:"+c.toString()+": Posting invokeExpMethod to parent for "+a+" "+b),window.parent.postMessage("jvxAPI:invokeExpMethod:"+a,b,"*")}}},raiseEventOnBase:function(a){try{debugWidget&&debuglog("Invoking raiseEventOnBase() for "+a),raiseEventOnBase(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking raiseEventOnBase() on parent for "+a),parent.raiseEventOnBase(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting raiseEventOnBase to parent for "+a),window.parent.postMessage("jvxAPI:raiseEventOnBase:"+a,"*")}}},raiseEventOnExp:function(a){try{debugWidget&&debuglog("Invoking raiseEventOnExp() for "+a),raiseEventOnExp(a)}catch(b){try{debugWidget&&debuglog("Exception:"+b.toString()+": Invoking raiseEventOnExp() on parent for "+a),parent.raiseEventOnExp(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting raiseEventOnExp message to parent for "+a),window.parent.postMessage("jvxAPI:raiseEventOnExp:"+a,"*")}}},recordEventByName:function(a,b,c,d){if(isCampaign)try{var a=a,c=jvx_validate(c)?c:"",d=jvx_validate(d)?d:"";debugWidget&&debuglog("Invoking recordEventByName() for "+a+":interactive="+b+":asset="+d+":params="+c),recordEventByName(a,b,c,d)}catch(g){try{var e=""!=d?d:jvx_validate(assetID)?assetID:window.frameElement.id;debugWidget&&debuglog("Exception:"+g.toString()+": Invoking recordEventByName() on parent for "+a+":interactive="+b+":asset="+e+":params="+c),parent.recordEventByName(a,b,c,e)}catch(d){var f=encodeURIComponent(a)+":"+b+":"+c+":"+e;debugWidget&&debuglog("Exception:"+d.toString()+": Posting recordEventByName message to parent for "+f),window.parent.postMessage("jvxAPI:recordEventByName:"+f,"*")}}},getCreativeSize:function(a){"undefined"==typeof jvx_callbacks.getCreativeSize&&(jvx_callbacks.getCreativeSize=[]),jvx_callbacks.getCreativeSize.push("undefined"!=typeof a?a:""),debugWidget&&debuglog("Posting getCreativeSize message to top"),top.postMessage(objectName+":getCreativeSize","*")},initialDimension:function(a,b){debugWidget&&debuglog("Posting initialDimension message to top: width:"+a+" height:"+b),top.postMessage(objectName+":initialDimension:"+a+":"+b,"*")},resizeCreative:function(a,b,c,d){"undefined"==typeof jvx_callbacks.resizeComplete&&(jvx_callbacks.resizeComplete=[]),jvx_callbacks.resizeComplete.push("undefined"!=typeof d?d:""),debugWidget&&debuglog("Posting resizeCreative message to top: width:"+a+" height:"+b+" effect:"+c),top.postMessage(objectName+":resizeCreative:"+a+":"+b+":"+c,"*")},leaveBehindCreative:function(a,b,c){"undefined"==typeof jvx_callbacks.leaveBehindComplete&&(jvx_callbacks.leaveBehindComplete=[]),jvx_callbacks.leaveBehindComplete.push("undefined"!=typeof c?c:""),debugWidget&&debuglog("Posting leaveBehindCreative message to top: Pos:"+a+" scalePer:"+b),top.postMessage(objectName+":leaveBehindCreative:"+a+":"+b,"*")},retainOriginalCreative:function(a){"undefined"==typeof jvx_callbacks.retainOriginalComplete&&(jvx_callbacks.retainOriginalComplete=[]),jvx_callbacks.retainOriginalComplete.push("undefined"!=typeof a?a:""),debugWidget&&debuglog("Posting retainOriginalCreative message to top"),top.postMessage(objectName+":retainOriginalCreative","*")},getCreativePosition:function(a){"undefined"==typeof jvx_callbacks.getCreativePosition&&(jvx_callbacks.getCreativePosition=[]),jvx_callbacks.getCreativePosition.push("undefined"!=typeof a?a:""),debugWidget&&debuglog("Posting getCreativePosition message to top"),top.postMessage(objectName+":getCreativePosition","*")},setHeightForInOutViewport:function(a){debugWidget&&debuglog("Posting setHeightForInOutViewport message to top: height:"+a),top.postMessage(objectName+":setHeightForInOutViewport:"+a,"*")},getResult:function(a){attachEventListener(window.parent,"message",a,!1)},clientErrorLog:function(a,b){return""!=a&&null!=a&&"undefined"!=a||(""!=b&&jvxErr([{message:b}]),!1)},dynamicDataRequestObj:{},assetDBReq:function(a){this.dynamicDataRequestObj.currentService=void 0;var b=this.clientErrorLog(a,"Invalid database name parameter");if(!isCampaign||!b)return this;var c=this.dynamicDataRequestObj;c.hasOwnProperty("dataBase")||(c.dataBase={});var d=c.dataBase;return a="dbUserDef"==a.split("|")[1]?a:a+"|db",c.currentService=a,d.hasOwnProperty(a)||(d[a]={},d[a].dbName=a),this},keys:function(a){var b=this.clientErrorLog(a,"Invalid keys parameter");if(!isCampaign||!b||"undefined"==typeof this.dynamicDataRequestObj.currentService)return this;var c=this.dynamicDataRequestObj,d=c.dataBase,e=d[c.currentService];e.hasOwnProperty("key")?e.key+=","+String(a):e.key=String(a),e.lastUpdatedkey=String(a);var f=e.key.split(",");return e.key=this.removeDuplicates(f),this},max:function(a){var b=this.clientErrorLog(a,"");if(!isCampaign||!b||"undefined"==typeof this.dynamicDataRequestObj.currentService)return this;var c=this.dynamicDataRequestObj,d=c.dataBase,e=d[c.currentService];return e.max=a,this},order:function(a){var b=this.clientErrorLog(a,"");if(!isCampaign||!b||"undefined"==typeof this.dynamicDataRequestObj.currentService)return this;var c=this.dynamicDataRequestObj,d=c.dataBase,e=d[c.currentService];return e.order=a,this},orderBy:function(a){var b=this.clientErrorLog(a,"");if(!isCampaign||!b||"undefined"==typeof this.dynamicDataRequestObj.currentService)return this;var c=this.dynamicDataRequestObj,d=c.dataBase,e=d[c.currentService];return e.orderBy=a,this},build:function(a){if(!isCampaign||"undefined"==typeof this.dynamicDataRequestObj.currentService)return this;var b=this.dynamicDataRequestObj,c=b.dataBase;c[b.currentService];return JSON.parse(JSON.stringify(c[b.currentService]))},dynamicDataCallback:function(a){var b=this.dynamicDataRequestObj;return b.callback=a,this},get:function(){if(!isCampaign)return this;var a,b=this.dynamicDataRequestObj;if(queryObj=this.dynamicDataRequestObj.dataBase,b.queryStr="",argLen=arguments.length,checkdbKey=arguments.length>0?"dbUserDef":"db",argLen>0)for(var a=0;a<argLen;a++)if("undefined"!=typeof arguments[a].dbName&&"undefined"!=typeof arguments[a].lastUpdatedkey){this.assetDBReq(arguments[a].dbName+"UserDef").keys(arguments[a].lastUpdatedkey).max(arguments[a].max).order(arguments[a].order).orderBy(arguments[a].orderBy).build()}for(var d in queryObj){var e=d.split("|")[1];e==checkdbKey&&(this.updateQuery(queryObj[d]),"dbUserDef"==e&&delete queryObj[d])}if(""!=b.queryStr){var f=resolveDynDataURL+"?";"undefined"!=typeof playerParamsMap&&playerParamsMap.hasOwnProperty("debugWidget")&&1==playerParamsMap.debugWidget&&(f+="debugWidget=1&"),f+="campaignId="+campaignId+b.queryStr+"&callback="+b.callback+"&r_="+Math.random();var g=document.createElement("script");g.src=f,document.getElementsByTagName("body")[0].appendChild(g)}},removeDuplicates:function(a){var b=a.filter(function(a,b,c){return c.indexOf(a)==b});return b},updateQuery:function(a){var b=this.dynamicDataRequestObj,c=a.dbName.split("|")[0],d="";d+="&var="+c+":"+c,d+="&ap_"+c+"="+a.key,a.hasOwnProperty("max")&&(d+="&ap_"+c+":max="+a.max),a.hasOwnProperty("order")&&(d+="&ap_"+c+":order="+a.order),a.hasOwnProperty("orderBy")&&(d+="&ap_"+c+":orderBy="+a.orderBy),b.queryStr+=d},getDynamicService:function(a,b,c){if(isCampaign){"string"==typeof a&&(a=a.split(",")),"string"==typeof b&&(b=b.split(","));for(var d="campaignId="+campaignId,e=a.length,f=b.length,g=null,h=resolveDynDataURL+"?",i=0;i<f;i++)g=b[i].split("="),d+="&"+g[0]+"="+g[1];for(var i=0;i<e;i++)d+="&var="+a[i];d+="&callback="+c+"&r_="+Math.random(),h+=d;var j=document.createElement("script");j.src=h,document.getElementsByTagName("head")[0].appendChild(j)}},getDynamicData:function(){if(debugWidget){debuglog("Invoking getDynamicData()");try{debuglog("dynamicData : "+dynamicData.stringify())}catch(a){}}return dynamicData},isExtWidget:function(){return debugWidget&&debuglog("isExtWidget? "+isExternalWg),isExternalWg},isExtAsInlineWidget:function(){return debugWidget&&debuglog("isExtAsInlineWidget? "+isExtAsInline),isExtAsInline},isInlineWidget:function(){return debugWidget&&debuglog("isInlineWidget? "+isStandardInline),isStandardInline},isDynamic:function(){return debugWidget&&debuglog("isDynamic? "+isDynamic),isDynamic},getAssetEventType:function(a){try{return debugWidget&&debuglog("Invoking getAssetEventType() for "+a),getAssetEventType(a)}catch(b){try{return debugWidget&&debuglog("Exception:"+b.toString()+": Invoking getAssetEventType("+a+") on parent"),parent.getAssetEventType(a)}catch(b){debugWidget&&debuglog("Exception:"+b.toString()+": Posting getAssetEventType message to parent"),window.parent.postMessage("jvxAPIGetData:getAssetEventType:"+a,"*")}}},getAssetInteractionDetails:function(a,b){window.parent.postMessage("jvxAssetInteraction:"+encodeURIComponent(JSON.stringify(arguments)),"*");var c=encodeURIComponent(JSON.stringify(arguments));try{return debugWidget&&debuglog("Invoking getAssetInteractionDetails() for "+c),JSON.parse(decodeURIComponent(getAssetInteractionDetails(c)))}catch(a){try{return debugWidget&&debuglog("Exception:"+a.toString()+": Invoking getAssetInteractionDetails() on parent for "+c),JSON.parse(decodeURIComponent(parent.getAssetInteractionDetails(c)))}catch(a){debugWidget&&debuglog("Exception:"+a.toString()+": Posting getAssetInteractionDetails message to parent for "+c),window.parent.postMessage("jvxAPIGetData:getAssetInteractionDetails:"+c,"*"),"undefined"!=typeof c&&(storeEventReq.hasOwnProperty(c)&&delete storeEventReq[c],storeEventReq.getAssetInteractionDetails=b)}}},appendHTML:function(a,b,c){try{if(debugWidget&&debuglog("Invoking appendHTML() for "+a+", Target element:"+c),"self"==a){var d=void 0==c?assetID:c,e=null!=document.getElementById(d)?document.getElementById(d):document.body;e.innerHTML+=b}else{var f=parent.document.getElementById(a),g=null!=f.contentDocument.getElementById(c)?f.contentDocument.getElementById(c):f.contentDocument.body;g.innerHTML+=b}}catch(d){debugWidget&&debuglog("Exception:"+d.toString()+": Posting appendHTML message to parent for "+a+", Target element:"+c),window.parent.postMessage("jvxAPI:appendHTML:"+a+":"+b+":"+c,"*")}},replaceHTML:function(a,b,c){try{if(debugWidget&&debuglog("Invoking replaceHTML() for "+a+", Target element:"+c),"self"==a){var d=void 0==c?assetID:c,e=null!=document.getElementById(d)?document.getElementById(d):document.body;e.innerHTML=b}else{var f=parent.document.getElementById(a),g=null!=f.contentDocument.getElementById(c)?f.contentDocument.getElementById(c):f.contentDocument.body;g.innerHTML=b}}catch(d){debugWidget&&debuglog("Exception:"+d.toString()+": Posting replaceHTML message to parent for "+a+", Target element:"+c),window.parent.postMessage("jvxAPI:replaceHTML:"+a+":"+b+":"+c,"*")}}};"undefined"!=typeof console&&"undefined"!=typeof console.log||(window.console={log:function(){}}),parentAccess&&!isInLayout||attachEventListener(window,"message",listenLayoutPostMsg,!1),isInLayout||attachEventListener(window.parent,"message",function(a){if("string"==typeof a.data){var b=a.data.split(":",10),c="",d="";"undefined"!=typeof jvx_callbacks[b[1]]?(c=jvx_callbacks[b[1]].shift(),"getCreativeSize"==b[1]&&(d=[b[2],b[3]]),"getCreativePosition"==b[1]&&(d=[b[2],b[3]])):"undefined"!=typeof jvx_callbacks[b[3]]&&(c=jvx_callbacks[b[3]].shift(),d="resizeComplete"),"function"==typeof c&&c(d)}},!1),isDynamic&&parentAccess&&!isInLayout&&!function(){resolveDynDataURL=window.parent&&window.parent.resolveDynDataURL?window.parent.resolveDynDataURL:"";var a=window.parent&&window.parent.dynamicJSONData?window.parent.dynamicJSONData:"";a&&a.data&&(dynamicData=a.data)}(),attachEventListener(window,"load",function(){isInLayout||!function(){var b=document.createElement("div");b.id="jvx_eventHandler",b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",document.body.appendChild(b)}(),(isStandardInline||isExtAsInline)&&isDynamic&&jvx_raiseDYEvent(dynamicData);try{isDynamic&&isExternalWg||isInLayout||"undefined"!=typeof initiate&&initiate()}catch(a){"undefined"==typeof console.oldLog?console.log(a):console.oldLog(a)}},!1);